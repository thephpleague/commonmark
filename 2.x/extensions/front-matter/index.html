




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <meta name="description" content="The Front Matter extension automatically parses YAML front matter from your Markdown.">
    
    <meta name="docsearch:version" content="2.x">
    
        <title>Front Matter Extension - CommonMark for PHP</title>
    
    <link rel="icon" type="image/x-icon" href="//theme.thephpleague.com/img/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="//theme.thephpleague.com/img/apple-touch-icon-precomposed.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@thephpleague" />
    <meta name="twitter:creator" content="@colinodell" />
    <meta property="og:url" content="https://commonmark.thephpleague.com/2.x/extensions/front-matter/" />
    
        <meta property="og:title" content="Front Matter Extension - CommonMark for PHP" />
    
    
        <meta property="og:description" content="The Front Matter extension automatically parses YAML front matter from your Markdown." />
    
    <meta property="og:image" content="https://commonmark.thephpleague.com/images/commonmark-social.png" />
    <link rel="stylesheet" href="//theme.thephpleague.com/css/all.css?">
    <link rel="stylesheet" href="/custom.css?">
    <link rel="stylesheet" href="/global.css?">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link rel="stylesheet" href="/support.css?">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin="anonymous" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137970568-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-137970568-1');
    </script>
</head>
<body>
<header>
    <div class="header-content">
        <h1 class="title">
            <a class="logo" href="/">
            <span class="name">
                <em>League\</em>CommonMark
            </span>
            </a>
        </h1>
        <div class="search"><input type="search" id="doc-search" placeholder="search the docs..."></div>
        <nav class="versions">
            <h2>v2.x &#9662;</h2>
            <ul>
            
                <li class="selected"><a href="/2.x/extensions/front-matter/">v2.x</a></li>
            
                <li ><a href="/1.x/">v1.x</a></li>
            
                <li ><a href="/releases/">Notes</a></li>
            </ul>
        </nav>
    </div>
</header>

<input type="checkbox" id="menu">
<label for="menu" onclick>
    <div class="closed">&#9776;</div>
    <div class="open">&#10799;</div>
</label>

<main>
    <menu>
        <div class="versions-small">
        <h2>Versions</h2>
            <ul>
        
                <li class="selected">
                    <a href="/2.x/">2.x</a>
                </li>
        
                <li >
                    <a href="/1.x/">1.x</a>
                </li>
        
                <li ><a href="/releases/">Releases Notes</a></li>
            </ul>
        </div>

        
            
            <div class="menu-section">
                <h2>Getting Started</h2>
                <ul>
                    
                        <li >
                            <a href="/2.x/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/upgrading/">Upgrading</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/changelog/">Changelog</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/support/">Support</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Usage</h2>
                <ul>
                    
                        <li >
                            <a href="/2.x/basic-usage/">Basic Usage</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/security/">Security</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/xml/">XML</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Extensions</h2>
                <ul>
                    
                        <li >
                            <a href="/2.x/extensions/overview/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/commonmark/">CommonMark</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/github-flavored-markdown/">GitHub-Flavored Markdown</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/attributes/">Attributes</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/autolinks/">Autolinks</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/default-attributes/">Default Attributes</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/description-lists/">Description Lists</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/disallowed-raw-html/">Disallowed Raw HTML</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/embed/">Embed</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/external-links/">External Links</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/footnotes/">Footnotes</a>
                        </li>
                    
                        <li class="selected">
                            <a href="/2.x/extensions/front-matter/">Front Matter</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/heading-permalinks/">Heading Permalinks</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/highlight/">Highlight</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/inlines-only/">Inlines Only</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/mentions/">Mentions</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/smart-punctuation/">Smart Punctuation</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/strikethrough/">Strikethrough</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/table-of-contents/">Table of Contents</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/tables/">Tables</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/extensions/task-lists/">Task Lists</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Customization</h2>
                <ul>
                    
                        <li >
                            <a href="/2.x/customization/overview/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/environment/">Environment</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/extensions/">Extensions</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/event-dispatcher/">Event Dispatcher</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/cursor/">Cursor</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/block-parsing/">Block Parsing</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/inline-parsing/">Inline Parsing</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/delimiter-processing/">Delimiter Processing</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/abstract-syntax-tree/">Abstract Syntax Tree</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/rendering/">Rendering</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/slug-normalizer/">Slug Normalizer</a>
                        </li>
                    
                        <li >
                            <a href="/2.x/customization/disabling-features/">Disabling Features</a>
                        </li>
                    
                </ul>
            </div>
            
        
    </menu>
    <article>
    

    

    

        <h1 id="front-matter-extension">Front Matter Extension</h1>

<p>The <code class="language-plaintext highlighter-rouge">FrontMatterExtension</code> adds the ability to parse YAML front matter from the Markdown document and include that in the return result.</p>

<h2 id="installation">Installation</h2>

<p>This extension is bundled with <code class="language-plaintext highlighter-rouge">league/commonmark</code>. This library can be installed via Composer:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require league/commonmark
</code></pre></div></div>

<p>See the <a href="/2.x/installation/">installation</a> section for more details.</p>

<p>You will also need to install <code class="language-plaintext highlighter-rouge">symfony/yaml</code> or the <a href="https://www.php.net/manual/book.yaml.php">YAML extension for PHP</a> to use this extension. For <code class="language-plaintext highlighter-rouge">symfony/yaml</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require symfony/yaml
</code></pre></div></div>

<p>(You can use any version of <code class="language-plaintext highlighter-rouge">symfony/yaml</code> 2.6 or higher, though we recommend using 4.0 or higher.)</p>

<h2 id="front-matter-syntax">Front Matter Syntax</h2>

<p>This extension follows the <a href="https://jekyllrb.com/docs/front-matter/">Jekyll Front Matter syntax</a>. The front matter must be the first thing in the file and must take the form of valid YAML set between triple-dashed lines. Here is a basic example:</p>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">I Love Markdown</span>
<span class="na">tags</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">test</span>
  <span class="pi">-</span> <span class="s">example</span>
<span class="nn">---</span>

<span class="gh"># Hello World!</span>
</code></pre></div></div>

<p>This will produce a front matter array similar to this:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$parsedFrontMatter</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'layout'</span> <span class="o">=&gt;</span> <span class="s1">'post'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'I Love Markdown'</span><span class="p">,</span>
    <span class="s1">'tags'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'test'</span><span class="p">,</span>
        <span class="s1">'example'</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">];</span>
</code></pre></div></div>

<p>And the HTML output will only contain the one heading:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Configure your <code class="language-plaintext highlighter-rouge">Environment</code> as usual and add the <code class="language-plaintext highlighter-rouge">FrontMatterExtension</code>:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">League\CommonMark\Environment\Environment</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\Extension\CommonMark\CommonMarkCoreExtension</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\FrontMatterExtension</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\Output\RenderedContentWithFrontMatter</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\MarkdownConverter</span><span class="p">;</span>

<span class="c1">// Define your configuration, if needed</span>
<span class="nv">$config</span> <span class="o">=</span> <span class="p">[];</span>

<span class="c1">// Configure the Environment with all the CommonMark parsers/renderers</span>
<span class="nv">$environment</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Environment</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>
<span class="nv">$environment</span><span class="o">-&gt;</span><span class="nf">addExtension</span><span class="p">(</span><span class="k">new</span> <span class="nc">CommonMarkCoreExtension</span><span class="p">());</span>

<span class="c1">// Add the extension</span>
<span class="nv">$environment</span><span class="o">-&gt;</span><span class="nf">addExtension</span><span class="p">(</span><span class="k">new</span> <span class="nc">FrontMatterExtension</span><span class="p">());</span>

<span class="c1">// Instantiate the converter engine and start converting some Markdown!</span>
<span class="nv">$converter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MarkdownConverter</span><span class="p">(</span><span class="nv">$environment</span><span class="p">);</span>

<span class="c1">// A sample Markdown file with some front matter:</span>
<span class="nv">$markdown</span> <span class="o">=</span> <span class="sh">&lt;&lt;&lt;MD
---
layout: post
title: I Love Markdown
tags:
  - test
  - example
---

# Hello World!
MD;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$converter</span><span class="o">-&gt;</span><span class="nf">convert</span><span class="p">(</span><span class="nv">$markdown</span><span class="p">);</span>

<span class="c1">// Grab the front matter:</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$result</span> <span class="k">instanceof</span> <span class="nc">RenderedContentWithFrontMatter</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$frontMatter</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getFrontMatter</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Output the HTML using any of these:</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>               <span class="c1">// implicit string cast</span>
<span class="c1">// or:</span>
<span class="k">echo</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="nv">$result</span><span class="p">;</span>      <span class="c1">// explicit string cast</span>
<span class="c1">// or:</span>
<span class="k">echo</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getContent</span><span class="p">();</span>
</code></pre></div></div>

<h3 id="parsing-front-matter-only">Parsing Front Matter Only</h3>

<p>You don’t have to parse the entire file (including all the Markdown) if you only want the front matter.  You can either instantiate the front matter parser yourself and call it directly, like this:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\Data\LibYamlFrontMatterParser</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\Data\SymfonyYamlFrontMatterParser</span><span class="p">;</span>
<span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\FrontMatterParser</span><span class="p">;</span>

<span class="nv">$markdown</span> <span class="o">=</span> <span class="s1">'...'</span><span class="p">;</span> <span class="c1">// TODO: Load some Markdown content somehow</span>

<span class="c1">// For `symfony/yaml`</span>
<span class="nv">$frontMatterParser</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FrontMatterParser</span><span class="p">(</span><span class="k">new</span> <span class="nc">SymfonyYamlFrontMatterParser</span><span class="p">());</span>
<span class="c1">// For YAML extension</span>
<span class="nv">$frontMatterParser</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FrontMatterParser</span><span class="p">(</span><span class="k">new</span> <span class="nc">LibYamlFrontMatterParser</span><span class="p">());</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$frontMatterParser</span><span class="o">-&gt;</span><span class="nf">parse</span><span class="p">(</span><span class="nv">$markdown</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getFrontMatter</span><span class="p">());</span> <span class="c1">// The parsed front matter</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getContent</span><span class="p">());</span> <span class="c1">// Markdown content without the front matter</span>
</code></pre></div></div>

<p>Or you can use the <code class="language-plaintext highlighter-rouge">getFrontMatterParser()</code> method from the extension:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">use</span> <span class="nc">League\CommonMark\Extension\FrontMatter\FrontMatterExtension</span><span class="p">;</span>

<span class="nv">$markdown</span> <span class="o">=</span> <span class="s1">'...'</span><span class="p">;</span> <span class="c1">// TODO: Load some Markdown content somehow</span>

<span class="nv">$frontMatterExtension</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FrontMatterExtension</span><span class="p">();</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$frontMatterExtension</span><span class="o">-&gt;</span><span class="nf">getFrontMatterParser</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">parse</span><span class="p">(</span><span class="nv">$markdown</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getFrontMatter</span><span class="p">());</span> <span class="c1">// The parsed front matter</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="nf">getContent</span><span class="p">());</span> <span class="c1">// Markdown content without the front matter</span>
</code></pre></div></div>

<p>This latter approach may be more convenient if you have already instantiated a <code class="language-plaintext highlighter-rouge">FrontMatterExtension</code> object you’re adding to the <code class="language-plaintext highlighter-rouge">Environment</code> somewhere and just want to call that.</p>


        <hr>

        <p>
            <a class="btn btn-sm btn-black" href="https://github.com/thephpleague/commonmark/edit/2.x/docs/2.x/extensions/front-matter.md" title="Edit this page on GitHub" target="_blank" rel="noopener"><i class="fas fa-edit"></i> Edit this page</a>
        </p>
    </article>

    <aside class="support-banner-wrapper" x-data="{ show: false }" x-show.transition="show" x-init="h = localStorage.getItem('hideBanner'); (h === null || h < (new Date().getTime())) ? (setTimeout(() => show = true, 500)) : (show = false)">
        <div class="support-banner">
            <p class="support-banner-left">
                <strong>Love PHP Commonmark?</strong>
                <span class="hidden sm:inline-block lg:hidden">
                    Show your support!
                </span>

                <span class="hidden lg:inline-block">
                    Support development via monthly sponsorship or a one-time donation!
                </span>
            </p>

            <div class="support-banner-right">
                <a href="https://github.com/sponsors/colinodell" class="btn btn-pink btn-block">
                    <i class="fas fa-heart fa-fw" aria-hidden="true"></i> Sponsor
                </a>

                <a href="https://www.paypal.me/colinpodell/10.00" class="btn btn-green btn-block">
                    <i class="fas fa-donate fa-fw" aria-hidden="true"></i> Donate
                </a>
            </div>

            <button x-on:click="localStorage.setItem('hideBanner', new Date().getTime() + (7*24*60*60*1000)); show = false" class="support-banner-close">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </aside>
</main>

<footer>
    <span>&copy; Copyright <a href="https://www.colinodell.com">Colin O'Dell</a> &amp; <a href="//thephpleague.com">The League of Extraordinary Packages</a>.</span>
    <span>Site design by <a href="//reinink.ca">Jonathan Reinink</a> and <a href="//nyamsprod.com">Ignace Nyamagana Butera</a>.</span>
</footer>
<script src="/custom.js?"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
<script> docsearch({
    apiKey: 'f8a60b0120292f75f23d313f6cebba05',
    appId: '5WPQI5503X',
    indexName: 'commonmark-thephpleague',
    inputSelector: '#doc-search',
    algoliaOptions: { 'facetFilters': ["version:v2.x"] },
    debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
